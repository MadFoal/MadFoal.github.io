<!DOCTYPE html>
<meta charset="utf-8">

<style type="text/css">
    .line {
        fill: none;
        stroke: #ffab00;
        stroke-width: 3;
    }
    .miline {
        fill: none;
        stroke: #00274C;
        stroke-width: 3;
    }
    .ohline {
        fill: none;
        stroke: #CE0F3D;
        stroke-width: 3;
    }
    .overlay {
        fill: none;
        pointer-events: all;
    }
    .dot {
        fill: #ffab00;
        stroke: #fff;
    }

    .ohdot {
        fill: #F68076;
        stroke: #fff;
    }
    .ohdot1 {
        fill: #F68076;
        stroke: #fff;
    }
    .ohdot2 {
        fill: #F68076;
        stroke: #fff;
    }
    .ohdot3 {
        fill: #F68076;
        stroke: #fff;
    }
    .ohdot4 {
        fill: #F68076;
        stroke: #fff;
    }
    .midot {
        fill: #33ECFF;
        stroke: #fff;
    }
    .midot1 {
        fill: #33ECFF;
        stroke: #fff;
    }
    .midot2 {
        fill: #33ECFF;
        stroke: #fff;
    }
    .midot3 {
        fill: #33ECFF;
        stroke: #fff;
    }
    .midot4 {
        fill: #33ECFF;
        stroke: #fff;
    }

    .focus circle {
        fill: none;
        stroke: steelblue;
    }
    .baxis {
        font: 14px sans-serif;
        text-anchor:start;
        stroke:black;

    }
    .blaxis {
        font: 18px sans-serif;
        text-anchor: middle;
        stroke:black;
    }
    .test {
        writing-mode: vertical-lr;
        text-anchor: middle;

    }
    .axis {
        font: 12px sans-serif;

    }
    .yaxis_label {
        font: 32px sans-serif;

        stroke:black;
    }

    .xaxis {
        font: 32px sans-serif;
        stroke: black;

    }
    .yaxis {
        font: 32px sans-serif;
        stroke: black;
    }
    .botrect {
    //fill: transparent;
        fill-opacity: 0.2;
        stroke-opacity: 0.5;
        stroke: black;
        stroke-width: 4px;
    }
    .tooltip {
        fill-opacity: 0.2;
        stroke-opacity: 0.5;
        stroke: black;
        stroke-width: 4px;
        font: 16px sans-serif;
    }
    .button {
        transition-duration: 1s;
        background-color: #FFFFFF;
        stroke: black;
        width: 250px;
        height: 150px;
        font: 45px sans-serif;
    }

    .button:hover {
        background-color: #4CAF50; /* Green */

    }
    .overall_annotation_box1 {
        font: 14px sans-serif;
        stroke:black;
    }
    .overall_annotation_line1 {
        stroke:black;
    }
    .overall_annotation_box2 {
        font: 14px sans-serif;
        stroke:black;
    }
    .overall_annotation_line2 {
        stroke:black;
    }

    .scene1_annotation_box1 {
        font: 14px sans-serif;
        stroke:black;
    }
    .scene1_annotation_line1 {
        stroke:black;
    }
    .scene1_annotation_box2 {
        font: 14px sans-serif;
        stroke:black;
    }
    .scene1_annotation_line2 {
        stroke:black;
    }
    .scene2_annotation_box1 {
        font: 14px sans-serif;
        stroke:black;
    }
    .scene2_annotation_line1 {
        stroke:black;
    }
    .scene2_annotation_box2 {
        font: 14px sans-serif;
        stroke:black;
    }
    .scene2_annotation_line2 {
        stroke:black;
    }
    .scene3_annotation_box1 {
        font: 14px sans-serif;
        stroke:black;
    }
    .scene3_annotation_line1 {
        stroke:black;
    }
    .scene3_annotation_box2 {
        font: 14px sans-serif;
        stroke:black;
    }
    .scene3_annotation_line2 {
        stroke:black;
    }

</style>



<p style="font: 32px sans-serif" align="center" >
    <u>A tale of two states - COVID-19 Ohio/Michigan Comparison</u>
</p>
<p style="font: 32px sans-serif" align="left">
    <BR><BR>Executive Summary: In the first half of 2020, two states, roughly equal in size and population, were caught off guard by COVID-19. Both had population centers impacted, although Michigan's Detroit had a more aggressive initial spread.With National Support, Michigan was able to provide free test sites, compensate its people and business, utilize the National Guard to assist the local Governments, and ultimately get control of the spread of the virus.On the other hand, Ohio had a smaller initial problem set and, like Michigan, took measures to ensure businesses were shut down but did not install as many controls as its neighbor. Ultimately, Ohio saw the contagion spread at an alarming rate with no sign of stopping. The State, following the Federal Government's guidance, is looking at ways to move forward by opening schools and businesses without taking safety precautions.
    <BR><BR>Our story is told in four parts.  The first view shows the overall number of cases over time for each State.  Each subsequent picture, labeled "Phase 1," "Phase 2," and "Phase 3," marks a distinct period and policy for each State.The indicator bubbles provide additional details to help demonstrate each State's mitigation procedures, and the line chart shows its relative effectiveness.
    <BR><BR>
    <BR><BR>
    <BR>
</p>
<p style="font: 32px sans-serif" align="center">
    <button class="button" type="button" onclick="changeScene(1)">Phase 1</button>
    <button class="button" type="button" onclick="changeScene(2)">Phase 2</button>
    <button class="button" type="button" onclick="changeScene(3)">Phase 3</button>
    <button class="button" type="button" onclick="changeScene(4)">Overview</button>
</p>

<body align = "center">
</body>

<script src="https://d3js.org/d3.v5.min.js"></script>
<script>
    d3.annotation()


    //returns a date give a starting date and count, the number of days past the starting date
    function newDate(month, day, count) {
        while(count>0)
        {
            temp=30;
            if(month==0 || month==2 || month==4 || month==6 || month ==7 || month==9 || month==11)
            {
                temp = 31;

            }
            else if(month==3 || month==5 || month==8 || month==10)
            {
                temp = 30;

            }
            else if(month==1)
            {
                temp = 28;
            }
            if((day + count) > temp)
            {
                month = month + 1;
                count = count - (temp+1 - day); //22
                day = 1;
            }
            else
            {
                day = day + count;
                count = 0;
            }
        }
        return { m: month, d: day};
    }
    //created by ben kedo
</script>
<script>
    //created by ben kedo
    function changeScene(i){
        start = 0
        var start = 0;
        var svg = d3.select("body");
        svg.selectAll(".overall_annotation_box1").style("opacity",0);
        svg.selectAll(".overall_annotation_line1").style("opacity",0);
        svg.selectAll(".overall_annotation_box2").style("opacity",0);
        svg.selectAll(".overall_annotation_line2").style("opacity",0);
        svg.selectAll(".scene1_annotation_box1").style("opacity",0);
        svg.selectAll(".scene1_annotation_line1").style("opacity",0);
        svg.selectAll(".scene1_annotation_box2").style("opacity",0);
        svg.selectAll(".scene1_annotation_line2").style("opacity",0);
        svg.selectAll(".scene2_annotation_box1").style("opacity",0);
        svg.selectAll(".scene2_annotation_line1").style("opacity",0);
        svg.selectAll(".scene2_annotation_box2").style("opacity",0);
        svg.selectAll(".scene2_annotation_line2").style("opacity",0);
        svg.selectAll(".scene3_annotation_box1").style("opacity",0);
        svg.selectAll(".scene3_annotation_line1").style("opacity",0);
        svg.selectAll(".scene3_annotation_box2").style("opacity",0);
        svg.selectAll(".scene3_annotation_line2").style("opacity",0);

        var min_date_month = 2;
        var min_date_day = 9;

        var n = 0;
        var duration = 750;

        var yscale_bot=0;
        var oh_KE_numdates=[];
        if (i==1) {

            console.log("click one");
            n=23;
            start=0;
            //var start = 0;
            var oh_cases_sc1 = [3,3,4,5,13,26,37,50,67,90,120,169,247,351,444,564,707,867,1144,1406,1665,1933,2199,2548];
            var mi_cases_sc1 = [2,2,12,25,33,53,54,65,80,334,548,787,1033,1324,1791,2293,2877,3655,4634,5486,6508,7629,9292,10791];
            oh_KE_numdates=[0,1,4,5,6,9,13,21,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23];
            var mi_KE_numdates1 = [1,2,3,4,7,10,14,17,19,23];
            var mi_KE_mi_cases1 = [2,12,25,33,65,548,1791,3655,5486,10791];
            yscale = 10000;
            botrec_x = 0;
            botrec_width = width*(39/200);

            var oh_KE_numdates1 = [0,1,4,5,6,9,13,21,23];
            var oh_KE_oh_cases1 = [3,3,13,26,37,90,351,1933,2548];

            var temp_min = newDate(min_date_month,min_date_day,start);
            var temp_max = newDate(min_date_month,min_date_day,n);
            var min_date_month = temp_min.m;
            var min_date_day = temp_min.d;
            var max_date_month = temp_max.m;
            var max_date_day = temp_max.d;
            var min_date = new Date(2020,min_date_month,min_date_day),
                max_date = new Date(2020,max_date_month,max_date_day);
            var ohtScale = d3.scaleTime()
                .domain([min_date,max_date])
                .range([0, width]);
            var xScale = d3.scaleLinear()
                .domain([0, n])
                .range([0, width]);
            var xAxis = d3.scaleLinear()
                .domain([start,n])
                .range([0,width]);
            var yScale = d3.scaleLinear()
                .domain([0, yscale])
                .range([height, 0]);

            var ohline = d3.line()

                .x(function(d, i) { return xScale(i); })
                .y(function(d,i) { return yScale(oh_cases_sc1[i]); })
            var miline = d3.line()

                .x(function(d, i) { return xScale(i); })
                .y(function(d,i) { return yScale(mi_cases_sc1[i]); })
        }
        if (i==2) {
            var oh_cases_sc2 = [2903,3312,3739,4043,4450,4783,5149,5513,5879,6251,6605,6975,7280,7791,8414,9107,10222,11602,12919,13725,14117,14694,15169,15587,15963,16325,16769,17303,18027,18743,19335,19914,20474,20969,21576,22131,23018,23697,24086,24785,25257,25727,26363,26956,27476,27925,28455,28953,29437,30168,30795,31408,31911];
            var mi_cases_sc2 = [10791,12669,14225,15633,17129,18851,20220,21375,22646,23855,24496,25490,26845,27894,29120,29954,30718,31349,31929,32936,33973,35253,36628,37302,38003,38457,39469,40443,41348,42348,43191,43803,43996,44391,45079,45643,46319,46735,47116,47526,47946,48307,49489,49982,50416,51054,51853,52337,52988,53468,53865,54304,54616];
            console.log("click two");
            var oh_KE_numdates2 = [24,26,38,49,50,66,67];
            var oh_KE_oh_cases2 = [2903,3739,8414,16325,16769,26363,26956];
            var mi_KE_numdates2 = [27,30,32,33,34,43,54,74,75];
            var mi_KE_mi_cases2 = [15633,20220,22646,23855,24496,32936,43191,53865,54304];
            oh_KE_numdates=[25,26,38,49,50,66,67];
            start = 24;
            n = 77;
            yscale_bot = 2800;
            yscale = 55000;
            botrec_x = width*(39/200);
            botrec_width = width*(86/200);
            var temp_min = newDate(min_date_month,min_date_day,start);
            var temp_max = newDate(min_date_month,min_date_day,n);
            var min_date_month = temp_min.m;
            var min_date_day = temp_min.d;
            var max_date_month = temp_max.m;
            var max_date_day = temp_max.d;
            var min_date = new Date(2020,min_date_month,min_date_day),
                max_date = new Date(2020,max_date_month,max_date_day);
            var ohtScale = d3.scaleTime()
                .domain([min_date,max_date])
                .range([0, width]);
            var xScale = d3.scaleLinear()
                .domain([0,53])
                .range([0, width]);
            var xAxis = d3.scaleLinear()
                .domain([start,n])
                .range([0,width]);
            var yScale = d3.scaleLinear()
                .domain([yscale_bot, yscale])
                .range([height, 0]);
            var ohline = d3.line()
                .x(function(d, i) { return xScale(i); })
                .y(function(d,i) { return yScale(oh_cases_sc2[i]); })
            var miline = d3.line()
                .x(function(d, i) { return xScale(i); })
                .y(function(d,i) { return yScale(mi_cases_sc2[i]); })
        }
        if (i==3) {
            console.log("click three");
            var oh_KE_numdates3 =  [81,84,89,92,102,114,122];
            var oh_KE_oh_cases3 = [33915,35513,37758,38837,43122,51789,60181];
            oh_KE_numdates=[78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,80,83,88,91,101,113,121];
            var oh_cases_sc3 = [32477,33006,33439,33915,34566,35034,35513,35984,36350,36792,37282,37758,38111,38476,38837,39162,39575,40004,40424,40848,41148,41576,42010,42422,43122,43731,44262,44808,45537,46127,46759,47651,48638,49455,50309,51046,51789,52865,54166,55257,56183,57151,57956,58904,60181];
            var mi_cases_sc3 = [54816,55040,55544,55944,56589,56848,57355,58435,58680,58990,59215,63744,64196,64615,64911,65190,65377,65627,65881,66024,66246,66302,66466,66694,66980,67300,67721,67873,68144,68373,68711,69159,69473,69802,70042,70356,70850,71279,71853,72306,72702,73027,73403,74011,74660];
            var mi_KE_numdates3 = [83,86,88,90,103,115,121,122];
            var mi_KE_mi_cases3 = [56848,58680,59215,64196,67300,71279,74011,74660];
            start = 78;
            n = 123;
            yscale_bot = 29000;
            yscale = 75000;
            botrec_x = width*(125/200);
            botrec_width = width*(75/200);
            var temp_min = newDate(min_date_month,min_date_day,start);
            var temp_max = newDate(min_date_month,min_date_day,n);
            var min_date_month = temp_min.m;
            var min_date_day = temp_min.d;
            var max_date_month = temp_max.m;
            var max_date_day = temp_max.d;
            var min_date = new Date(2020,min_date_month,min_date_day),
                max_date = new Date(2020,max_date_month,max_date_day);
            var ohtScale = d3.scaleTime()
                .domain([min_date,max_date])
                .range([0, width]);
            var xScale = d3.scaleLinear()
                .domain([0,45])
                .range([0, width]);
            var xAxis = d3.scaleLinear()
                .domain([start,n])
                .range([0,width]);
            var yScale = d3.scaleLinear()
                .domain([yscale_bot, yscale])
                .range([height, 0]);
            var ohline = d3.line()
                .x(function(d, i) { return xScale(i); })
                .y(function(d,i) { return yScale(oh_cases_sc3[i]); })
            var miline = d3.line()
                .x(function(d, i) { return xScale(i); })
                .y(function(d,i) { return yScale(mi_cases_sc3[i]); })
        }
        if (i ==4 ){
            console.log("click Oveview");
            var oh_KE_numdates1 = [0,1,4,5,6,9,13,21,23];
            var oh_KE_numdates2 = [24,26,38,49,50,66,67];
            var oh_KE_numdates3 =  [80,83,88,91,101,113,121];
            var mi_KE_numdates1 = [1,2,3,4,7,10,14,17,19,23];
            var mi_KE_mi_cases1 = [2,12,25,33,65,548,1791,3655,5486,10791];
            var mi_KE_numdates2 = [26,29,31,32,33,42,53,73,74];
            var mi_KE_mi_cases2 = [15633,20220,22646,23855,24496,32936,43191,53865,54304];
            var mi_KE_numdates3 = [81,84,86,88,101,113,119,120];
            var mi_KE_mi_cases3 = [56848,58680,59215,64196,67300,71279,74011,74660];
            botrec_x = 0;
            botrec_width = width;
            n = 123;
            start = 0;
            //---------------------FRAME VARIABLES----------------------
            //******************************************************************************************************************
            //---------------------OHIO VARIABLES----------------------
            oh_cases = [3,3,4,5,13,26,37,50,67,90,120,169,247,351,444,564,707,867,1144,1406,1665,1933,2199,2548,2903,3312,3739,4043,4450,4783,5149,5513,5879,6251,6605,6975,7280,7791,8414,9107,10222,11602,12919,13725,14117,14694,15169,15587,15963,16325,16769,17303,18027,18743,19335,19914,20474,20969,21576,22131,23018,23697,24086,24785,25257,25727,26363,26956,27476,27925,28455,28953,29437,30168,30795,31408,31911,32477,33006,33439,33915,34566,35034,35513,35984,36350,36792,37282,37758,38111,38476,38837,39162,39575,40004,40424,40848,41148,41576,42010,42422,43122,43731,44262,44808,45537,46127,46759,47651,48638,49455,50309,51046,51789,52865,54166,55257,56183,57151,57956,58904,60181]
            //---------------------OHIO VARIABLES----------------------
            //******************************************************************************************************************
            //---------------------MICHIGAN VARIABLES----------------------
            mi_cases = [2,2,12,25,33,53,54,65,80,334,548,787,1033,1324,1791,2293,2877,3655,4634,5486,6508,7629,9292,10791,12669,14225,15633,17129,18851,20220,21375,22646,23855,24496,25490,26845,27894,29120,29954,30718,31349,31929,32936,33973,35253,36628,37302,38003,38457,39469,40443,41348,42348,43191,43803,43996,44391,45079,45643,46319,46735,47116,47526,47946,48307,49489,49982,50416,51054,51853,52337,52988,53468,53865,54304,54616,54816,55040,55544,55944,56589,56848,57355,58435,58680,58990,59215,63744,64196,64615,64911,65190,65377,65627,65881,66024,66246,66302,66466,66694,66980,67300,67721,67873,68144,68373,68711,69159,69473,69802,70042,70356,70850,71279,71853,72306,72702,73027,73403,74011,74660]
            //---------------------MICHIGAN VARIABLES----------------------
            yscale = 75000;
            yscale_bot=0;
            oh_KE_numdates=[0,1,4,5,6,9,13,21,23,24,26,38,49,50,66,67,80,83,88,91,101,113,121];
            var temp_min = newDate(min_date_month,min_date_day,start);
            var temp_max = newDate(min_date_month,min_date_day,n);//newDate(max_date_month,max_date_day,end);
            var min_date_month = temp_min.m;
            var min_date_day = temp_min.d;
            var max_date_month = temp_max.m;
            var max_date_day = temp_max.d;
            var min_date = new Date(2020,min_date_month,min_date_day),
                max_date = new Date(2020,max_date_month,max_date_day);

            var xScale = d3.scaleLinear()
                .domain([start,123])
                .range([0, width]);
            var xAxis = d3.scaleLinear()
                .domain([start,n])
                .range([0,width]);
            var yScale = d3.scaleLinear()
                .domain([yscale_bot, yscale])
                .range([height, 0]);

            var ohline = d3.line()
                .x(function(d, i) { return xScale(i); })
                .y(function(d,i) { return yScale(oh_cases[i]); })
            var miline = d3.line()

                .x(function(d, i) { return xScale(i); })
                .y(function(d,i) { return yScale(mi_cases[i]); })

        }

        var ohtScale = d3.scaleTime()
            .domain([min_date,max_date])
            .range([0, width]);
        var svg = d3.select("body").select("svg").transition()

        svg.select(".ohline").duration(duration).attr("d",ohline);

        svg.select(".miline").duration(duration).attr("d",miline);
        svg.select(".xaxis").duration(750).call(d3.axisBottom(ohtScale).ticks(6));//xAxis));
        svg.select(".yaxis").duration(750).call(d3.axisLeft(yScale).tickFormat(function (d) {
            if ((d / 1000) >= 1) { d = d / 1000 + "K"; }
            return d; })).selectAll('text')
            .attr("y", -15)
            .attr("x", 0)
            .attr("dy", ".35em")
            .attr("transform","rotate(-90)");

        svg.select(".botrect").duration(duration).attr("x",botrec_x).attr("width",botrec_width);
        if (i==1){
            svg.selectAll(".ohdot1").duration(duration).attr("cx", function(d, i) { return xAxis(oh_KE_numdates1[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".ohdot2").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".ohdot3").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".midot1").duration(duration).attr("cx", function(d, i) { return xAxis(mi_KE_numdates1[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".midot2").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".midot3").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".scene1_annotation_box1").style("opacity",1);
            svg.selectAll(".scene1_annotation_line1").style("opacity",1);
            svg.selectAll(".scene1_annotation_box2").style("opacity",1);
            svg.selectAll(".scene1_annotation_line2").style("opacity",1);
        }
        else if (i==2) {
            svg.selectAll(".ohdot2").duration(duration).attr("cx", function(d, i) { return xAxis(oh_KE_numdates2[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".ohdot1").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".ohdot3").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".midot2").duration(duration).attr("cx", function(d, i) { return xAxis(mi_KE_numdates2[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".midot1").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".midot3").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".scene2_annotation_box1").style("opacity",1);
            svg.selectAll(".scene2_annotation_line1").style("opacity",1);
            svg.selectAll(".scene2_annotation_box2").style("opacity",1);
            svg.selectAll(".scene2_annotation_line2").style("opacity",1);
        }
        else if (i==3) {
            svg.selectAll(".ohdot3").duration(duration).attr("cx", function(d, i) { return xAxis(oh_KE_numdates3[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".ohdot1").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".ohdot2").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".midot3").duration(duration).attr("cx", function(d, i) { return xAxis(mi_KE_numdates3[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".midot2").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".midot1").duration(duration).attr("cx", 0)
                .attr("cy", 0);
            svg.selectAll(".scene3_annotation_box1").style("opacity",1);
            svg.selectAll(".scene3_annotation_line1").style("opacity",1);
            svg.selectAll(".scene3_annotation_box2").style("opacity",1);
            svg.selectAll(".scene3_annotation_line2").style("opacity",1);
        }
        else if (i==4) {
            svg.selectAll(".overall_annotation_box1").style("opacity",1);
            svg.selectAll(".overall_annotation_line1").style("opacity",1);
            svg.selectAll(".overall_annotation_box2").style("opacity",1);
            svg.selectAll(".overall_annotation_line2").style("opacity",1);
            svg.selectAll(".ohdot1").duration(duration).attr("cx", function(d, i) { return xAxis(oh_KE_numdates1[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".ohdot2").duration(duration).attr("cx", function(d, i) { return xAxis(oh_KE_numdates2[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".ohdot3").duration(duration).attr("cx", function(d, i) { return xAxis(oh_KE_numdates3[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".midot1").duration(duration).attr("cx", function(d, i) { return xAxis(mi_KE_numdates1[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".midot2").duration(duration).attr("cx", function(d, i) { return xAxis(mi_KE_numdates2[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
            svg.selectAll(".midot3").duration(duration).attr("cx", function(d, i) { return xAxis(mi_KE_numdates3[i])})//xScale(i) })
                .attr("cy", function(d) { return yScale(d)});
        }

    }

    var oh_mouseover1 = function(d,i) {
        d3.select('#tooltip')
            .style('left', (d3.event.pageX + 10) + 'px')
            .style('top', (d3.event.pageY + 10) + 'px')
        d3.select('#tooltip').style('opacity',1).text(oh_KE_dates1[i] +" " + oh_KE1[i]).style("stroke","black")
            .style("stroke-width", "4px")
            .style("font","24px sanserif");
        d3.select(this)
            .style("stroke", "black")
            .style("opacity", 1)
            .attr("r",20)
            .attr("stroke-width","6")
    }
    var oh_mouseover2 = function(d,i) {
        d3.select('#tooltip')
            .style('left', (d3.event.pageX + 10) + 'px')
            .style('top', (d3.event.pageY + 10) + 'px')
        d3.select('#tooltip').style('opacity',1).text(oh_KE_dates2[i] +" " + oh_KE2[i]).style("stroke","black")
            .style("stroke-width", "4px")
            .style("font","24px sanserif");
        d3.select(this)
            .style("stroke", "black")
            .style("opacity", 1)
            .attr("r",20)
            .attr("stroke-width","6")
    }
    var oh_mouseover3 = function(d,i) {
        d3.select('#tooltip')
            .style('left', (d3.event.pageX + 10) + 'px')
            .style('top', (d3.event.pageY + 10) + 'px')
        d3.select('#tooltip').style('opacity',1).text(oh_KE_dates3[i] +" " + oh_KE3[i]).style("stroke","black")
            .style("stroke-width", "4px")
            .style("font","24px sanserif");
        d3.select(this)
            .style("stroke", "black")
            .style("opacity", 1)
            .attr("r",20)
            .attr("stroke-width","6")
    }
    var oh_mouseover4 = function(d,i) {
        d3.select('#tooltip')
            .style('left', (d3.event.pageX + 10) + 'px')
            .style('top', (d3.event.pageY + 10) + 'px')
        d3.select('#tooltip').style('opacity',1).text(oh_KE_dates[i] +" " + oh_KE[i]).style("stroke","black")
            .style("stroke-width", "4px")
            .style("font","24px sanserif");
        d3.select(this)
            .style("stroke", "black")
            .style("opacity", 1)
            .attr("r",20)
            .attr("stroke-width","6")
    }
    var mi_mouseover1 = function(d,i) {
        d3.select('#tooltip')
            .style('left', (d3.event.pageX + 10) + 'px')
            .style('top', (d3.event.pageY + 10) + 'px')
        d3.select('#tooltip').style('opacity',1).text(mi_KE_dates1[i] +" " + mi_KE1[i]).style("stroke","black")
            .style("stroke-width", "4px")
            .style("font","24px sanserif");
        d3.select(this)
            .style("stroke", "black")
            .style("opacity", 1)
            .attr("r",20)
            .attr("stroke-width","6")
    }
    var mi_mouseover2 = function(d,i) {
        d3.select('#tooltip')
            .style('left', (d3.event.pageX + 10) + 'px')
            .style('top', (d3.event.pageY + 10) + 'px')
        d3.select('#tooltip').style('opacity',1).text(mi_KE_dates2[i] +" " + mi_KE2[i]).style("stroke","black")
            .style("stroke-width", "4px")
            .style("font","24px sanserif");
        d3.select(this)
            .style("stroke", "black")
            .style("opacity", 1)
            .attr("r",20)
            .attr("stroke-width","6")
    }
    var mi_mouseover3 = function(d,i) {
        d3.select('#tooltip')
            .style('left', (d3.event.pageX + 10) + 'px')
            .style('top', (d3.event.pageY + 10) + 'px')
        d3.select('#tooltip').style('opacity',1).text(mi_KE_dates3[i] +" " + mi_KE3[i]).style("stroke","black")
            .style("stroke-width", "4px")
            .style("font","24px sanserif");
        d3.select(this)
            .style("stroke", "black")
            .style("opacity", 1)
            .attr("r",20)
            .attr("stroke-width","6")
    }
    var mi_mouseover3 = function(d,i) {
        d3.select('#tooltip')
            .style('left', (d3.event.pageX + 10) + 'px')
            .style('top', (d3.event.pageY + 10) + 'px')
        d3.select('#tooltip').style('opacity',1).text(mi_KE_dates3[i] +" " + mi_KE3[i]).style("stroke","black")
            .style("stroke-width", "4px")
            .style("font","24px sanserif");
        d3.select(this)
            .style("stroke", "black")
            .style("opacity", 1)
            .attr("r",20)
            .attr("stroke-width","6")
    }
    var mi_mouseover4 = function(d,i) {
        d3.select('#tooltip')
            .style('left', (d3.event.pageX + 10) + 'px')
            .style('top', (d3.event.pageY + 10) + 'px')
        d3.select('#tooltip').style('opacity',1).text(mi_KE_dates[i] +" " + mi_KE[i]).style("stroke","black")
            .style("stroke-width", "4px")
            .style("font","24px sanserif");
        d3.select(this)
            .style("stroke", "black")
            .style("opacity", 1)
            .attr("r",20)
            .attr("stroke-width","6")
    }

    var mousemove = function(d,i) {
        d3.select(this)
            .style("stroke", "black")
            .style("opacity", 1)
            .attr("r",20)
            .attr("stroke-width","6")
        d3.select('#tooltip')
            .style('left', (d3.event.pageX + 10) + 'px')
            .style('top', (d3.event.pageY + 10) + 'px')

    }

    var mouseleave = function(d,i) {
        Tooltip
            .style("opacity", 0)
        d3.select(this)
            .style("stroke", "white")
            .style("opacity", 1)
            .attr("r",10)
            .attr("stroke-width","1")
    }
    //---------------------FRAME VARIABLES----------------------
    graph_width = window.innerWidth/1.5;
    graph_height = window.innerHeight/1.2;

    var margin = {top: 50, right: 50, bottom: 50, left:100}
        , width = graph_width - margin.left - margin.right
        , height = graph_height*3/4 - margin.top - margin.bottom;
    timeline_svg_width = width;
    bottom_height = graph_height/4;
    timeline_svg_height = bottom_height-margin.top - margin.bottom;

    // The number of datapoints
    var n = 123;//122;
    var start = 0;
    var end = n;//122;
    var yscale = 75000;

    //---------------------FRAME VARIABLES----------------------
    //******************************************************************************************************************
    //---------------------OHIO VARIABLES----------------------
    var oh_cases = [3,3,4,5,13,26,37,50,67,90,120,169,247,351,444,564,707,867,1144,1406,1665,1933,2199,2548,2903,3312,3739,4043,4450,4783,5149,5513,5879,6251,6605,6975,7280,7791,8414,9107,10222,11602,12919,13725,14117,14694,15169,15587,15963,16325,16769,17303,18027,18743,19335,19914,20474,20969,21576,22131,23018,23697,24086,24785,25257,25727,26363,26956,27476,27925,28455,28953,29437,30168,30795,31408,31911,32477,33006,33439,33915,34566,35034,35513,35984,36350,36792,37282,37758,38111,38476,38837,39162,39575,40004,40424,40848,41148,41576,42010,42422,43122,43731,44262,44808,45537,46127,46759,47651,48638,49455,50309,51046,51789,52865,54166,55257,56183,57151,57956,58904,60181]

    var oh_KE = ["OH: Governor Signs emergency order for COVID-19","OH: Governor limits indoor gatherings, closes schools","OH: Dept of Health asks residents to take steps to slow the virus","OH: Governor declares State of emergency","OH: Governor closes bars and restaurants","OH: Governor closes businesses","OH: Governor issues Stay at Home Order","OH: Governor extends Stay at Home Order through May 1","OH: Govt establish Hospital Preparedness Regions and Zones","OH: Govt orders all health facilities to becomes centers that can conduct COVID-19 testing","OH: Govt encouraged to wear masks","OH: Govt discuss reopening businesses","OH: Governor identifies 15 / 27 May for OH reopening","OH: Governor states face masks not legal requirement in OH","OH: Govt announces New Responsible Restart - Ohio opening dates","OH: Govt opens restaurants, bars, and haircuts for business","OH: Assisted Living open for visitors","OH: Govt opens most places in ohio without facemasks","OH: Govt opened elective surgeries and all schools","OH: Govt affirms that all restaurants and businesses are open but should social distance, masks not required","OH: Govt announces case numbers are decreasing","OH: Govt announces sports, fairs, and animal exhibitions open with guidance and exceptions","OH: Govt face coverings required in high-risk counties"];
    var oh_KE1 = ["OH: Governor Signs emergency order for COVID-19","OH: Governor limits indoor gatherings, closes schools","OH: Dept of Health asks residents to take steps to slow the virus","OH: Governor declares State of emergency","OH: Governor closes bars and restaurants","OH: Governor closes businesses","OH: Governor issues Stay at Home Order","OH: Governor extends Stay at Home Order through May 1","OH: Govt establish Hospital Preparedness Regions and Zones"];
    var oh_KE2 = ["OH: Govt orders all health facilities to becomes centers that can conduct COVID-19 testing","OH: Govt encouraged to wear masks","OH: Govt discuss reopening businesses","OH: Governor identifies 15 / 27 May for OH reopening","OH: Governor states face masks not legal requirement in OH","OH: Govt announces New Responsible Restart - Ohio opening dates","OH: Govt opens restaurants, bars, and haircuts for business"];
    var oh_KE3 = ["OH: Assisted Living open for visitors","OH: Govt opens most places in ohio without facemasks","OH: Govt opened elective surgeries and all schools","OH: Govt affirms that all restaurants and businesses are open but should social distance, masks not required","OH: Govt announces case numbers are decreasing","OH: Govt announces sports, fairs, and animal exhibitions open with guidance and exceptions","OH: Govt face coverings required in high-risk counties"];

    var oh_KE_dates = ["9 March, 2020", "10 March, 2020", "13 March, 2020", "14 March, 2020", "15 March, 2020", "18 March, 2020", "22 March, 2020","30 March, 2020", "1 April, 2020","2 April, 2020", "4 April, 2020", "16 April, 2020", "27 April, 2020", "28 April, 2020", "14 May, 2020", "15 May, 2020","28 May, 2020", "31 May, 2020", "5 June, 2020","8 June, 2020", "18 June, 2020", "30 June, 2020", "8 July, 2020"];//[new Date(2020,2,9), new Date(2020,2,10), new Date(2020,2,13), new Date(2020,2,14), new Date(2020,2,15), new Date(2020,2,18), new Date(2020,2,22), new Date(2020,2,30), new Date(2020,3,1), new Date(2020,3,2), new Date(2020,3,4), new Date(2020,3,16), new Date(2020,3,27), new Date(2020,3,28), new Date(2020,4,14), new Date(2020,4,15), new Date(2020,4,14), new Date(2020,4,28), new Date(2020,4,31), new Date(2020,5,5), new Date(2020,5,8), new Date(2020,5,18), new Date(2020,5,30), new Date(2020,6,8)];
    var oh_KE_dates1 = ["9 March, 2020", "10 March, 2020", "13 March, 2020", "14 March, 2020", "15 March, 2020", "18 March, 2020", "22 March, 2020","30 March, 2020", "1 April, 2020"];
    var oh_KE_dates2 = ["2 April, 2020", "4 April, 2020", "16 April, 2020", "27 April, 2020", "28 April, 2020", "14 May, 2020", "15 May, 2020"];
    var oh_KE_dates3 = ["28 May, 2020", "31 May, 2020", "5 June, 2020","8 June, 2020", "18 June, 2020", "30 June, 2020", "8 July, 2020"];
    var oh_KE_count = 23;
    var oh_KE_numdates = [0,1,4,5,6,9,13,21,23,24,26,38,49,50,66,67,80,83,88,91,101,113,121];

    var oh_KE_oh_cases = [3,3,13,26,37,90,351,1933,2548,2903,3739,8414,16325,16769,26363,26956,33915,35513,37758,38837,43122,51789,60181];
    var oh_KE_numdates1 = [0,1,4,5,6,9,13,21,23];
    var oh_KE_numdates2 = [24,26,38,49,50,66,67];
    var oh_KE_numdates3 = [80,83,88,91,101,113,121];
    var oh_KE_oh_cases1 = [3,3,13,26,37,90,351,1933,2548];
    var oh_KE_oh_cases2 = [2903,3739,8414,16325,16769,26363,26956];
    var oh_KE_oh_cases3 = [33915,35513,37758,38837,43122,51789,60181];

    //---------------------OHIO VARIABLES----------------------
    //******************************************************************************************************************
    //---------------------MICHIGAN VARIABLES----------------------
    var mi_KE = ["MI: Governor declares state of emergency","MI: Govt creates recommendations to slow spread","MI: Governor closes all schools","MI: Governor closes all large assembly and events","MI: Governor closes all bars, theaters, casinos, limits restaurants to delivery and carryout","MI: Govt employs national guard","MI: Governor signs Stay Home, Stay Safe Order","MI: Governor requests MI declared as a major disaster area","MI: Pres. approves major disaster declaration","MI: National Guard is joined by FEMA response in MI","MI: Govt mandate Must report COVID-19 deaths faster","MI: Businesses modify production lines to make medical supplies","MI: GOV extends stay at home order","MI: COVID-19 treatment at no cost to patients with existing health insurance","MI: Drive thru testing available","MI: Volunteer contact tracing effort","MI: National Guard assists with testing","MI: GOV Auto dealers and retail open by appointment; medical procedures authorized","MI: Govt opens free COVID-19 testing site","MI: GOV opens businesses","MI: GOV rescinds stay at home order","MI: National Guard continue to assist with testing","MI: Additional regional restrictions lifted","MI: National Guard assists with no-cost testing","MI: Opens website to find local free testing site","MI: GOV signs order requiring masks indoors","MI: GOV asks Fed Govt to extend National Guard support until December 31st"];
    var mi_KE1 = ["MI: Governor declares state of emergency","MI: Govt creates recommendations to slow spread","MI: Governor closes all schools","MI: Governor closes all large assembly and events","MI: Governor closes all bars, theaters, casinos, limits restaurants to delivery and carryout","MI: Govt employs national guard","MI: Governor signs Stay Home, Stay Safe Order","MI: Governor requests MI declared as a major disaster area","MI: Pres. approves major disaster declaration","MI: National Guard is joined by FEMA response in MI"];
    var mi_KE2 = ["MI: Govt mandate Must report COVID-19 deaths faster","MI: Businesses modify production lines to make medical supplies","MI: GOV extends stay at home order","MI: COVID-19 treatment at no cost to patients with existing health insurance","MI: Drive thru testing available","MI: Volunteer contact tracing effort","MI: National Guard assists with testing","MI: GOV Auto dealers and retail open by appointment; medical procedures authorized","MI: Govt opens free COVID-19 testing site"];
    var mi_KE3 = ["MI: GOV opens businesses","MI: GOV rescinds stay at home order","MI: National Guard continue to assist with testing","MI: Additional regional restrictions lifted","MI: National Guard assists with no-cost testing","MI: Opens website to find local free testing site","MI: GOV signs order requiring masks indoors","MI: GOV asks Fed Govt to extend National Guard support until December 31st"];

    var mi_KE_dates = ["10 March, 2020","11 March, 2020","12 March, 2020","13 March, 2020","16 March, 2020","19 March, 2020","23 March, 2020","26 March, 2020","28 March, 2020","1 April, 2020","4 April, 2020","7 April, 2020","9 April, 2020","10 April, 2020","11 April, 2020", "20 April, 2020", "1 May, 2020", "21 May, 2020", "22 May, 2020","29 May, 2020","1 June, 2020", "3 June, 2020", "5 June, 2020", "18 June, 2020", "30 June, 2020", "6 July, 2020", "7 July, 2020"];//new Date(2020,2,10), new Date(2020,2,11), new Date(2020,2,12), new Date(2020,2,13), new Date(2020,2,16), new Date(2020,2,19), new Date(2020,2,23), new Date(2020,2,26), new Date(2020,2,28), new Date(2020,3,1), new Date(2020,3,4), new Date(2020,3,7), new Date(2020,3,9), new Date(2020,3,10), new Date(2020,3,11), new Date(2020,3,20), new Date(2020,3,20), new Date(2020,4,1), new Date(2020,4,21), new Date(2020,4,22), new Date(2020,4,29), new Date(2020,5,1), new Date(2020,5,3), new Date(2020,5,5), new Date(2020,5,18), new Date(2020,5,30), new Date(2020,6,6), new Date(2020,6,7)];
    var mi_KE_count = 27;
    var mi_KE_numdates = [1,2,3,4,7,10,14,17,19,23,26,29,31,32,33,42,53,73,74,81,84,86,88,101,113,119,120];
    var mi_KE_mi_cases = [2,12,25,33,65,548,1791,3655,5486,10791,15633,20220,22646,23855,24496,32936,43191,53865,54304,56848,58680,59215,64196,67300,71279,74011,74660]
    var mi_KE_numdates1 = [1,2,3,4,7,10,14,17,19,23];
    var mi_KE_mi_cases1 = [2,12,25,33,65,548,1791,3655,5486,10791];
    var mi_KE_numdates2 = [26,29,31,32,33,42,53,73,74];
    var mi_KE_mi_cases2 = [15633,20220,22646,23855,24496,32936,43191,53865,54304];
    var mi_KE_numdates3 = [81,84,86,88,101,113,119,120];
    var mi_KE_mi_cases3 = [56848,58680,59215,64196,67300,71279,74011,74660];
    var mi_KE_dates1 = ["10 March, 2020","11 March, 2020","12 March, 2020","13 March, 2020","16 March, 2020","19 March, 2020","23 March, 2020","26 March, 2020","28 March, 2020","1 April, 2020"];
    var mi_KE_dates2 = ["4 April, 2020","7 April, 2020","9 April, 2020","10 April, 2020","11 April, 2020", "20 April, 2020", "1 May, 2020", "21 May, 2020", "22 May, 2020"];
    var mi_KE_dates3 = ["29 May, 2020","1 June, 2020", "3 June, 2020", "5 June, 2020", "18 June, 2020", "30 June, 2020", "6 July, 2020", "7 July, 2020"];

    //---------------------MICHIGAN VARIABLES----------------------
    //******************************************************************************************************************
    //---------------------DATE VARIABLES----------------------
    min_date_month = 2;
    min_date_day = 9;
    max_date_month = 6;
    max_date_day = 8;
    temp_min = newDate(min_date_month,min_date_day,start);
    temp_max = newDate(min_date_month,min_date_day,end);//newDate(max_date_month,max_date_day,end);
    min_date_month = temp_min.m;
    min_date_day = temp_min.d;
    max_date_month = temp_max.m;
    max_date_day = temp_max.d;

    var min_date = new Date(2020,min_date_month,min_date_day),
        max_date = new Date(2020,max_date_month,max_date_day);



    var mi_cases = [2,2,12,25,33,53,54,65,80,334,548,787,1033,1324,1791,2293,2877,3655,4634,5486,6508,7629,9292,10791,12669,14225,15633,17129,18851,20220,21375,22646,23855,24496,25490,26845,27894,29120,29954,30718,31349,31929,32936,33973,35253,36628,37302,38003,38457,39469,40443,41348,42348,43191,43803,43996,44391,45079,45643,46319,46735,47116,47526,47946,48307,49489,49982,50416,51054,51853,52337,52988,53468,53865,54304,54616,54816,55040,55544,55944,56589,56848,57355,58435,58680,58990,59215,63744,64196,64615,64911,65190,65377,65627,65881,66024,66246,66302,66466,66694,66980,67300,67721,67873,68144,68373,68711,69159,69473,69802,70042,70356,70850,71279,71853,72306,72702,73027,73403,74011,74660]
    //---------------------DATE VARIABLES----------------------
    //******************************************************************************************************************
    //-----------------SCALES----------------
    var xScale = d3.scaleLinear()
        .domain([start, n])
        .range([0, width]);
    var ohtScale = d3.scaleTime()
        .domain([min_date,max_date])
        .range([0, width]);
    var yScale = d3.scaleLinear()
        .domain([0, yscale])
        .range([height, 0]);
    var timelineYScale = d3.scaleLinear()
        .domain([0,100])
        .range([timeline_svg_height,0]);
    //-----------------SCALES----------------

    //******************************************************************************************************************
    //-----------------Create a line element----------------
    var line = d3.line()
        .x(function(d, i) { return xScale(i); })
        .y(function(d) { return yScale(d.y); })
        .curve(d3.curveMonotoneX)
    //-----------------Create a line element----------------
    //******************************************************************************************************************
    //-----------------Create our datasets----------------
    var dataset = d3.range(end).map(function(d,i) { return {"y": (oh_cases[i]) } });
    var dataset2 = d3.range(end).map(function(d,i) { return {"y": (mi_cases[i]) } });
    var OH_KE_Dataset = d3.range(oh_KE_count).map(function(d,i) { return {"y": (oh_cases[oh_KE_numdates[i]]) }});
    //-----------------Create our datasets----------------
    //******************************************************************************************************************
    // create a tooltip
    var Tooltip = d3.select("body")
        .append("div")
        .attr('id', 'tooltip')
        .attr('style', 'position: absolute; opacity: 0; border: solid;border-width: 2px; border-radius: 5px; padding:5px;background-color: white')
        .attr("stroke","black")
        .attr("stroke-width", "4px")

    //-----------------SVG----------------
    //Begin drawing our diagram
    var svg = d3.select("body").append("svg")
        .attr("width", graph_width)
        .attr("height", graph_height)
        .append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    console.log("N is equal to " + n);
    //******************************************************************************************************************
    //-----------------SVG BOTTOM AXIS----------------
    //add a bottom axis

    Axis_bottom_x = d3.axisBottom(ohtScale);
    Axis_bottom_x.ticks(5)
    Axis_bottom_x.tickSize(10)
    var xAxis_Main = svg.append("g")
        .attr("class", "xaxis")
        .attr("transform", "translate(0," +height+")")
        .call(Axis_bottom_x); //xScale));

    //-----------------SVG BOTTOM AXIS----------------
    //******************************************************************************************************************
    //-----------------SVG LEFT AXIS----------------
    //add a left axis
    svg.append("g")
        .attr("class", "yaxis")
        .call(d3.axisLeft(yScale).tickFormat(function (d) {
            if ((d / 1000) >= 1) { d = d / 1000 + "K"; }
            return d; })).selectAll('text')
        .attr("y", -15)
        .attr("x", 0)
        .attr("dy", ".35em")
        .attr("transform","rotate(-90)");
    svg.append("text")
        .attr("class","yaxis_label")
        .attr("y", 0 - margin.left)
        .attr("x",0 - (height / 2))
        .attr("dy", "1em")
        .attr('transform', 'rotate(-90)')
        .attr('text-anchor', 'middle')
        .text('Number of Cases Total');


    //-----------------SVG LEFT AXIS----------------
    //******************************************************************************************************************
    //-----------------SVG PLOT DATA AND DOTS----------------
    //PLOT OUR DATA
    var ohPath = svg.append("path")
        .datum(dataset)//.datum(dataset) // 10. Binds data to the line
        .attr("class", "ohline") // Assign a class for styling
        .attr("d", line); // 11. Calls the line generator
    var miPath = svg.append("path")
        .datum(dataset2) // 10. Binds data to the line
        .attr("class", "miline") // Assign a class for styling
        .attr("d", line) // 11. Calls the line generator
        .attr("stroke","blue");

    // Add circles for our datapoints - NEEDS UPDATING
    var ohDot = svg.selectAll(".dot")
        .data(oh_KE_oh_cases1)//dataset)//dataset)
        .enter().append("circle") // Uses the enter().append() method
        .attr("class", "ohdot1") // Assign a class for styling
        .attr("cx", function(d, i) { return xScale(oh_KE_numdates1[i])})//xScale(i) })
        .attr("cy", function(d) { return yScale(d)}) //yScale(d.y) })
        .attr("r", 10)
        .on("mouseover", oh_mouseover1)
        .on("mousemove", mousemove)
        .on("mouseleave", mouseleave);

    var ohDot = svg.selectAll(".dot")
        .data(oh_KE_oh_cases2)//dataset)//dataset)
        .enter().append("circle") // Uses the enter().append() method
        .attr("class", "ohdot2") // Assign a class for styling
        .attr("cx", function(d, i) { return xScale(oh_KE_numdates2[i])})//xScale(i) })
        .attr("cy", function(d) { return yScale(d)}) //yScale(d.y) })
        .attr("r", 10)
        .on("mouseover", oh_mouseover2)
        .on("mouseout", mousemove)
        .on("mouseleave",mouseleave)
    var ohDot = svg.selectAll(".dot")
        .data(oh_KE_oh_cases3)//dataset)//dataset)
        .enter().append("circle") // Uses the enter().append() method
        .attr("class", "ohdot3") // Assign a class for styling
        .attr("cx", function(d, i) { return xScale(oh_KE_numdates3[i])})//xScale(i) })
        .attr("cy", function(d) { return yScale(d)}) //yScale(d.y) })
        .attr("r", 10)
        .on("mouseover", oh_mouseover3)
        .on("mousemove", mousemove)
        .on("mouseleave", mouseleave);

    var miDot = svg.selectAll(".dot")
        .data(mi_KE_mi_cases1)//dataset2)
        .enter().append("circle") // Uses the enter().append() method
        .attr("class", "midot1") // Assign a class for styling
        .attr("cx", function(d, i) { return xScale(mi_KE_numdates1[i]) })
        .attr("cy", function(d) { return yScale(d) })
        .attr("r", 10)
        .on("mouseover", mi_mouseover1)
        .on("mousemove", mousemove)
        .on("mouseleave", mouseleave);
    var miDot = svg.selectAll(".dot")
        .data(mi_KE_mi_cases2)//dataset2)
        .enter().append("circle") // Uses the enter().append() method
        .attr("class", "midot2") // Assign a class for styling
        .attr("cx", function(d, i) { return xScale(mi_KE_numdates2[i]) })
        .attr("cy", function(d) { return yScale(d) })
        .attr("r", 10)
        .on("mouseover", mi_mouseover2)
        .on("mousemove", mousemove)
        .on("mouseleave", mouseleave);
    var miDot = svg.selectAll(".dot")
        .data(mi_KE_mi_cases3)//dataset2)
        .enter().append("circle") // Uses the enter().append() method
        .attr("class", "midot3") // Assign a class for styling
        .attr("cx", function(d, i) { return xScale(mi_KE_numdates3[i]) })
        .attr("cy", function(d) { return yScale(d) })
        .attr("r", 10)
        .on("mouseover", mi_mouseover3)
        .on("mousemove", mousemove)
        .on("mouseleave", mouseleave);
    //-----------------SVG----------------
    //---------------------create annotations
    var annotation1_width = width*(13.5/100);
    var annotation1_height = height/5;
    var text_box = "Michigan starts off\nwith significantly more\ncases than Ohio";
    text = svg.append("text")
        .attr("class", "overall_annotation_box1")
        .attr("transform", "translate(0," +margin.top+")")//+ margin.left + "," + height + ")")
        //.attr("x", annotation1_width)
        .attr("y",annotation1_height-height/14)
    text.append("tspan").attr("dx",30).attr("dy",30).attr("style","stroke:4px");
    text.selectAll("tspan.text").data(d=> text_box.split("\n")).enter().append("tspan").text(d=>d).attr("x", annotation1_width+width*(4/100))
        .attr("dx", 10)
        .attr("dy", 22);
    svg.append('line')
        .attr("class", "overall_annotation_line1")
        .style("stroke", "lightblue")
        .style("stroke-width", 10)
        .attr("x1", annotation1_width+width*(10/100))
        .attr("y1", annotation1_height+height*(10/100))
        .attr("x2", annotation1_width+width*(10/100))
        .attr("y2", height*(70/100));


    var annotation_width = width*(72.2/100);
    var annotation_height = height - height/15;
    text_box = "Ohio Governor annouces\ncases going down\nand opens up business\nand parks";
    text = svg.append("text")
        .attr("class", "overall_annotation_box2")
        .attr("transform", "translate(0," +margin.top+")")//+ margin.left + "," + height + ")")
        //.attr("x", annotation1_width)
        .attr("y",annotation_height-height/6)
    text.append("tspan").attr("dx",30).attr("dy",30).attr("style","stroke:4px");
    text.selectAll("tspan.text").data(d=> text_box.split("\n")).enter().append("tspan").text(d=>d).attr("x", annotation_width+width*(5/100))
        .attr("dx", 10)
        .attr("dy", 22);
    svg.append('line')
        .attr("class", "overall_annotation_line2")
        .style("stroke", "#FE7474")
        .style("stroke-width", 10)
        .attr("x1", annotation_width+width*(10/100))
        .attr("y1", annotation_height-height*(10/100))
        .attr("x2", annotation_width+width*(10/100))
        .attr("y2", height/2.2);
    //svg.selectAll(".overall_annotation_box1").style("opacity",0);
    //svg.selectAll(".overall_annotation_line1").style("opacity",0);
    //svg.selectAll(".overall_annotation_box2").style("opacity",0);
    //svg.selectAll(".overall_annotation_line2").style("opacity",0);
    //created by ben kedo

    var annotation_width = width*(79.4/100);
    var annotation_height = height/14;
    var text_box = "Michigan Governor gets\nstate declared as\nmajor disaster area\nwhich helps the state\nin the long run\n with resources";
    text = svg.append("text")
        .attr("class", "scene1_annotation_box1")
        .attr("transform", "translate(0," +margin.top+")")//+ margin.left + "," + height + ")")
        //.attr("x", annotation1_width)
        .attr("y",annotation_height-height*(15/100))

    text.append("tspan").attr("dx",30).attr("dy",30).attr("style","stroke:4px");
    text.selectAll("tspan.text")
        .data(d=> text_box.split("\n")).enter().append("tspan").text(d=>d).attr("x", annotation_width-width*(1/100))
        .attr("dx", 10)
        .attr("dy", 22);
    svg.append('line')
        .attr("class", "scene1_annotation_line1")
        .style("stroke", "lightblue")
        .style("stroke-width", 10)
        .attr("x1", annotation_width+width*(3.2/100))
        .attr("y1", annotation_height+height/6)
        .attr("x2", annotation_width+width*(3.2/100))
        .attr("y2", annotation_height+height*(13/36));
    svg.selectAll(".scene1_annotation_box1").style("opacity",0);
    svg.selectAll(".scene1_annotation_line1").style("opacity",0);

    var annotation_width = width*53.3/100;
    var annotation_height = height/8;
    var text_box = "Ohio Governor begins\nthe stay at home\norder early one\nday before Michigan";
    text = svg.append("text")
        .attr("class", "scene1_annotation_box2")
        .attr("transform", "translate(0," +margin.top+")")//+ margin.left + "," + height + ")")
        //.attr("x", annotation1_width)
        .attr("y",annotation_height)

    text.append("tspan").attr("dx",30).attr("dy",30).attr("style","stroke:4px");
    text.selectAll("tspan.text")
        .data(d=> text_box.split("\n")).enter().append("tspan").text(d=>d).attr("x", annotation_width-width*(1/100))
        .attr("dx", 10)
        .attr("dy", 22);
    svg.append('line')
        .attr("class", "scene1_annotation_line2")
        .style("stroke", "#FE7474")
        .style("stroke-width", 10)
        .attr("x1", annotation_width+width*(3.2/100))
        .attr("y1", annotation_height+height*(24/100))
        .attr("x2", annotation_width+width*(3.2/100))
        .attr("y2", annotation_height+height*(82/100));
    svg.selectAll(".scene1_annotation_box2").style("opacity",0);
    svg.selectAll(".scene1_annotation_line2").style("opacity",0);
    //created by ben kedo
    var annotation_width = width*15.6/100;
    var annotation_height = height/20;
    var text_box = "Michigan begins drive\nthrough testing which\nhelps flatten their curve";
    text = svg.append("text")
        .attr("class", "scene2_annotation_box1")
        .attr("transform", "translate(0," +margin.top+")")//+ margin.left + "," + height + ")")
        //.attr("x", annotation1_width)
        .attr("y",annotation_height)
    text.append("tspan").attr("dx",30).attr("dy",30).attr("style","stroke:4px");
    text.selectAll("tspan.text")
        .data(d=> text_box.split("\n")).enter().append("tspan").text(d=>d).attr("x", annotation_width-width*(1/100))
        .attr("dx", 10)
        .attr("dy", 22);
    svg.append('line')
        .attr("class", "scene2_annotation_line1")
        .style("stroke", "lightblue")
        .style("stroke-width", 10)
        .attr("x1", annotation_width+width*(3.2/100))
        .attr("y1", annotation_height+height*(18/100))
        .attr("x2", annotation_width+width*(3.2/100))
        .attr("y2", annotation_height+height*(52/100));
    svg.selectAll(".scene2_annotation_box1").style("opacity",0);
    svg.selectAll(".scene2_annotation_line1").style("opacity",0);

    var annotation_width = width*45.8/100;
    var annotation_height = height/20;
    var text_box = "Ohio Governor makes\nmask optional and\ntheir curve's slope\nincreases";
    text = svg.append("text")
        .attr("class", "scene2_annotation_box2")
        .attr("transform", "translate(0," +margin.top+")")//+ margin.left + "," + height + ")")
        //.attr("x", annotation1_width)
        .attr("y",annotation_height)
    text.append("tspan").attr("dx",30).attr("dy",30).attr("style","stroke:4px");
    text.selectAll("tspan.text")
        .data(d=> text_box.split("\n")).enter().append("tspan").text(d=>d).attr("x", annotation_width-width*(1/100))
        .attr("dx", 10)
        .attr("dy", 22);
    svg.append('line')
        .attr("class", "scene2_annotation_line2")
        .style("stroke", "#FE7474")
        .style("stroke-width", 10)
        .attr("x1", annotation_width+width*(3.2/100))
        .attr("y1", annotation_height+height*(24/100))
        .attr("x2", annotation_width+width*(3.2/100))
        .attr("y2", annotation_height+height*(65/100));
    svg.selectAll(".scene2_annotation_box2").style("opacity",0);
    svg.selectAll(".scene2_annotation_line2").style("opacity",0);

    var annotation_width = width*18/100;
    var annotation_height = 0;//height*(1/100);
    var text_box = "Michigan rescinds stay\nat home order\nbut, since the\nstate is a national\nemergency, MI continues\nto utilize their\nnational guard";
    text = svg.append("text")
        .attr("class", "scene3_annotation_box1")
        .attr("transform", "translate(0," +margin.top+")")//+ margin.left + "," + height + ")")
        //.attr("x", annotation1_width)
        .attr("y",annotation_height)
    text.append("tspan").attr("dx",30).attr("dy",0).attr("style","stroke:4px");
    text.selectAll("tspan.text")
        .data(d=> text_box.split("\n")).enter().append("tspan").text(d=>d).attr("x", annotation_width-width*(1/100))
        .attr("dx", 10)
        .attr("dy", 15);
    svg.append('line')
        .attr("class", "scene3_annotation_line1")
        .style("stroke", "lightblue")
        .style("stroke-width", 10)
        .attr("x1", annotation_width)//+width*(1/100))
        .attr("y1", annotation_height+height*(24/100))
        .attr("x2", annotation_width)//+width*(1/100))
        .attr("y2", annotation_height+height*(32/100));
    svg.append('line')
        .attr("class", "scene3_annotation_line1")
        .style("stroke", "lightblue")
        .style("stroke-width", 10)
        .attr("x1", annotation_width+width*(4.3/100))
        .attr("y1", annotation_height+height*(24/100))
        .attr("x2", annotation_width+width*(4.3/100))
        .attr("y2", annotation_height+height*(32/100));
    svg.selectAll(".scene3_annotation_box1").style("opacity",0);
    svg.selectAll(".scene3_annotation_line1").style("opacity",0);

    var annotation_width = width*53.4/100;
    var annotation_height = height*(30/100);
    var text_box = "Ohio makes some\nquestionable decisions as\ntheir infection rate\nclimbs";
    text = svg.append("text")
        .attr("class", "scene3_annotation_box2")
        .attr("transform", "translate(0," +margin.top+")")//+ margin.left + "," + height + ")")
        //.attr("x", annotation1_width)
        .attr("y",annotation_height)
    text.append("tspan").attr("dx",30).attr("dy",0).attr("style","stroke:4px");
    text.selectAll("tspan.text")
        .data(d=> text_box.split("\n")).enter().append("tspan").text(d=>d).attr("x", annotation_width-width*(1/100))
        .attr("dx", 10)
        .attr("dy", 15);
    svg.append('line')
        .attr("class", "scene3_annotation_line2")
        .style("stroke", "#FE7474")
        .style("stroke-width", 10)
        .attr("x1", annotation_width)//+width*(1/100))
        .attr("y1", annotation_height+height*(18/100))
        .attr("x2", annotation_width)//+width*(1/100))
        .attr("y2", annotation_height+height*(36/100));
    svg.append('line')
        .attr("class", "scene3_annotation_line2")
        .style("stroke", "#FE7474")
        .style("stroke-width", 10)
        .attr("x1", annotation_width)//+width*(1/100))
        .attr("y1", annotation_height+height*(18/100))
        .attr("x2", annotation_width+width*(25/100))
        .attr("y2", annotation_height+height*(19/100));
    svg.selectAll(".scene3_annotation_box2").style("opacity",0);
    svg.selectAll(".scene3_annotation_line2").style("opacity",0);
    //-----------------SVG PLOT DATA AND DOTS----------------
    //******************************************************************************************************************

    svg.append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top+margin.bottom +height + ")");
    svg.append("rect")
        .attr("class","botrect")
        .attr("x",0)
        .attr("y",margin.top+margin.bottom +height)
        .attr("width",timeline_svg_width)
        .attr("height",timeline_svg_height)




    var tohtScale = d3.scaleTime()
        .domain([min_date,max_date])
        .range([0, timeline_svg_width]);
    ltAxis_generator = d3.axisLeft(timelineYScale);
    tAxis_generator = d3.axisBottom(xScale);
    tsAxis_generator = d3.axisBottom(tohtScale);
    tAxis_generator.ticks(4);
    tAxis_generator.tickValues([0,24,77,123]);
    let tickLabels= ['Phase 1 Starts March','Phase 2 Starts April 2nd','Phase 3 Starts May 25',' '];
    tAxis_generator.tickFormat((d,i) => tickLabels[i]);
    tAxis_generator.tickSize(timeline_svg_height*-1);
    ltAxis_generator.ticks(2);
    ltAxis_generator.tickValues([25,75]);
    let tickLLabel = ['Ohio','Michigan'];
    ltAxis_generator.tickFormat((d,i) => tickLLabel[i]);
    ltAxis_generator.tickSize(10);

    tAxis = svg.append("g")
        .attr("class", "baxis")
        .attr("transform", "translate(0," + (height + timeline_svg_height + margin.top+margin.bottom) + ")")

        .call(tAxis_generator);
    svg.append("g")
        .attr("class", "blaxis")
        .attr("transform", "translate(0," + (height + margin.top + margin.bottom) + ")")
        .call(ltAxis_generator)
        .selectAll('text')
        .attr("y", -15)
        .attr("x", 0)
        .attr("dy", ".35em")
        .attr("transform","rotate(-90)");

    svg.append("text")
        .attr("class","yaxis_label")
        .attr("y", 0 - margin.left)
        .attr("x", -1*height-timeline_svg_height/2-margin.bottom-margin.top)
        .attr("dy", "1em")
        .attr('transform', 'rotate(-90)')
        .attr('text-anchor', 'middle')
        .text('EVENTS');

    svg.selectAll(".dot")
        .data(oh_KE_oh_cases)//dataset)//dataset)
        .enter().append("circle") // Uses the enter().append() method
        .attr("class", "ohdot4") // Assign a class for styling
        .attr("transform", "translate(0," + (height + margin.top + margin.bottom) + ")")
        .attr("cx", function(d, i) { return xScale(oh_KE_numdates[i])})//xScale(i) })
        .attr("cy", d3.randomUniform(timeline_svg_height*5/6,timeline_svg_height*4/6))//function(d) { return d3.randomUniform(d,00)})//timelineYScale(d)}) //yScale(d.y) })
        .attr("r", 10)
        .on("mouseover", oh_mouseover4)
        .on("mousemove", mousemove)
        .on("mouseleave", mouseleave);
    svg.selectAll(".dot")
        .data(mi_KE_mi_cases)//dataset2)
        .enter().append("circle") // Uses the enter().append() method
        .attr("class", "midot4") // Assign a class for styling
        .attr("transform", "translate(0," + (height + margin.top + margin.bottom) + ")")
        .attr("cx", function(d, i) { return xScale(mi_KE_numdates[i]) })
        .attr("cy", d3.randomUniform(timeline_svg_height*1/6,timeline_svg_height*2/6))//function(d) { return timelineYScale(d)-50 })
        .attr("r", 10)
        .on("mouseover", mi_mouseover4)
        .on("mousemove", mousemove)
        .on("mouseleave", mouseleave);


    //created by ben kedo
</script>
